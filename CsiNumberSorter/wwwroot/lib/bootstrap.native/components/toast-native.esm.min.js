const transitionEndEvent="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend",supportTransition="webkitTransition"in document.head.style||"transition"in document.head.style,transitionDuration="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",transitionProperty="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function getElementTransitionDuration(t){var e=getComputedStyle(t),t=e[transitionProperty];const s=e[transitionDuration];e=s.includes("ms")?1:1e3,e=supportTransition&&t&&"none"!==t?parseFloat(s)*e:0;return Number.isNaN(e)?0:e}function emulateTransitionEnd(s,n){let o=0;const t=new Event(transitionEndEvent);var e=getElementTransitionDuration(s);e?(s.addEventListener(transitionEndEvent,function t(e){e.target===s&&(n.apply(s,[e]),s.removeEventListener(transitionEndEvent,t),o=1)}),setTimeout(()=>{o||s.dispatchEvent(t)},e+17)):n.apply(s,[t])}function addClass(t,e){t.classList.add(e)}function hasClass(t,e){return t.classList.contains(e)}function removeClass(t,e){t.classList.remove(e)}const addEventListener="addEventListener",removeEventListener="removeEventListener";function queryElement(t,e){const s=e&&e instanceof Element?e:document;return t instanceof Element?t:s.querySelector(t)}function reflow(t){return t.offsetHeight}const fadeClass="fade",showClass="show",dataBsDismiss="data-bs-dismiss";function bootstrapCustomEvent(t,e){const s=new CustomEvent(t,{cancelable:!0});return e instanceof Object&&Object.keys(e).forEach(t=>{Object.defineProperty(s,t,{value:e[t]})}),s}function normalizeValue(t){return"true"===t||"false"!==t&&(Number.isNaN(+t)?""===t||"null"===t?null:t:+t)}function normalizeOptions(t,e,s,n){const o={},a={},i={...t.dataset};return Object.keys(i).forEach(t=>{var e=t.includes(n)?t.replace(n,"").replace(/[A-Z]/,t=>t.toLowerCase()):t;a[e]=normalizeValue(i[t])}),Object.keys(s).forEach(t=>{s[t]=normalizeValue(s[t])}),Object.keys(e).forEach(t=>{t in s?o[t]=s[t]:t in a?o[t]=a[t]:o[t]=e[t]}),o}class BaseComponent{constructor(t,e,s,n){var o=this;const a=queryElement(e);a[t]&&a[t].dispose(),o.element=a,s&&Object.keys(s).length&&(o.options=normalizeOptions(a,s,n||{},"bs")),a[t]=o}dispose(t){const e=this;e.element[t]=null,Object.keys(e).forEach(t=>{e[t]=null})}}const toastString="toast",toastComponent="Toast",toastSelector=`.${toastString}`,toastDismissSelector=`[${dataBsDismiss}="${toastString}"]`,showingClass="showing",hideClass="hide",toastDefaultOptions={animation:!0,autohide:!0,delay:500},showToastEvent=bootstrapCustomEvent(`show.bs.${toastString}`),hideToastEvent=bootstrapCustomEvent(`hide.bs.${toastString}`),shownToastEvent=bootstrapCustomEvent(`shown.bs.${toastString}`),hiddenToastEvent=bootstrapCustomEvent(`hidden.bs.${toastString}`);function showToastComplete(t){const{element:e,options:s}=t;s.animation||(removeClass(e,showingClass),addClass(e,showClass)),e.dispatchEvent(shownToastEvent),s.autohide&&t.hide()}function hideToastComplete(t){const{element:e}=t;addClass(e,hideClass),e.dispatchEvent(hiddenToastEvent)}function closeToast(t){var{element:e,options:s}=t;removeClass(e,showClass),s.animation?(reflow(e),emulateTransitionEnd(e,()=>hideToastComplete(t))):hideToastComplete(t)}function openToast(t){var{element:e,options:s}=t;removeClass(e,hideClass),s.animation?(reflow(e),addClass(e,showingClass),addClass(e,showClass),emulateTransitionEnd(e,()=>showToastComplete(t))):showToastComplete(t)}function toggleToastHandler(t,e){e=e?addEventListener:removeEventListener;t.dismiss&&t.dismiss[e]("click",t.hide)}function completeDisposeToast(t){clearTimeout(t.timer),toggleToastHandler(t)}class Toast extends BaseComponent{constructor(t,e){super(toastComponent,t,toastDefaultOptions,e);e=this;e.dismiss=queryElement(toastDismissSelector,e.element),e.show=e.show.bind(e),e.hide=e.hide.bind(e),toggleToastHandler(e,1)}show(){const t=this,{element:e}=t;e&&hasClass(e,hideClass)&&(e.dispatchEvent(showToastEvent),showToastEvent.defaultPrevented||(addClass(e,fadeClass),clearTimeout(t.timer),t.timer=setTimeout(()=>openToast(t),10)))}hide(t){const e=this,{element:s,options:n}=e;s&&hasClass(s,showClass)&&(s.dispatchEvent(hideToastEvent),hideToastEvent.defaultPrevented||(clearTimeout(e.timer),e.timer=setTimeout(()=>closeToast(e),t?10:n.delay)))}dispose(){const t=this;var{element:e,options:s}=t;t.hide(),s.animation?emulateTransitionEnd(e,()=>completeDisposeToast(t)):completeDisposeToast(t),super.dispose(toastComponent)}}Toast.init={component:toastComponent,selector:toastSelector,constructor:Toast};export default Toast;