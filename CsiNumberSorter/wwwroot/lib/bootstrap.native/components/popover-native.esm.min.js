const addEventListener="addEventListener",removeEventListener="removeEventListener",supportPassive=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get(){return e=!0,e}});document[addEventListener]("DOMContentLoaded",function e(){document[removeEventListener]("DOMContentLoaded",e,t)},t)}catch(e){throw Error("Passive events are not supported")}return e})();var passiveHandler=!!supportPassive&&{passive:!0};const transitionEndEvent="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend",supportTransition="webkitTransition"in document.head.style||"transition"in document.head.style,transitionDuration="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",transitionProperty="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function getElementTransitionDuration(e){var t=getComputedStyle(e),e=t[transitionProperty];const o=t[transitionDuration];t=o.includes("ms")?1:1e3,t=supportTransition&&e&&"none"!==e?parseFloat(o)*t:0;return Number.isNaN(t)?0:t}function emulateTransitionEnd(o,n){let s=0;const e=new Event(transitionEndEvent);var t=getElementTransitionDuration(o);t?(o.addEventListener(transitionEndEvent,function e(t){t.target===o&&(n.apply(o,[t]),o.removeEventListener(transitionEndEvent,e),s=1)}),setTimeout(()=>{s||o.dispatchEvent(e)},t+17)):n.apply(o,[e])}function queryElement(e,t){const o=t&&t instanceof Element?t:document;return e instanceof Element?e:o.querySelector(e)}function addClass(e,t){e.classList.add(t)}function hasClass(e,t){return e.classList.contains(t)}function removeClass(e,t){e.classList.remove(t)}const ariaDescribedBy="aria-describedby",showClass="show",fadeClass="fade",dataBsToggle="data-bs-toggle";function bootstrapCustomEvent(e,t){const o=new CustomEvent(e,{cancelable:!0});return t instanceof Object&&Object.keys(t).forEach(e=>{Object.defineProperty(o,e,{value:t[e]})}),o}var tipClassPositions={top:"top",bottom:"bottom",left:"start",right:"end"};function isVisibleTip(e,t){return t.contains(e)}function isMedia(t){return[SVGElement,HTMLImageElement,HTMLVideoElement].some(e=>t instanceof e)}function closestRelative(e){let t=null,o=e;for(;o!==document.body;)if(o=o.parentElement,"relative"===getComputedStyle(o).position){t=o;break}return t}function styleTip(e,t){const o=e.tooltip||e.popover;o.style.top="",o.style.left="",o.style.right="";var n=!!e.popover;let s={w:o.offsetWidth,h:o.offsetHeight};var i=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight;const{element:a,options:l,arrow:p}=e;let{container:d,placement:c}=l;var v=d===document.body,u=getComputedStyle(a).position,m=getComputedStyle(d).position,h=!v&&"static"===m;let g=!v&&"relative"===m;var f=h&&closestRelative(d);d=f||d,g=h&&f?1:g;var v=d===document.body,b=d.getBoundingClientRect(),y=g?b.left:0,E=g?b.right:i,C="absolute"===u,e=a.getBoundingClientRect(),m=v?{x:window.pageXOffset,y:window.pageYOffset}:{x:d.scrollLeft,y:d.scrollTop};const w=a.offsetWidth,T=a.offsetHeight;h=g?a.offsetTop:e.top,f=g?a.offsetLeft:e.left;p.style.top="",p.style.left="",p.style.right="";let P,H,L,$,S,D,B=e.top-s.h<0,O=e.top+s.h+T>=r,x=e.left-s.w<y,k=e.left+s.w+w>=E;B=["left","right"].includes(c)?e.top+T/2-s.h/2<0:B,O=["left","right"].includes(c)?e.top+s.h/2+T/2>=r:O,x=["top","bottom"].includes(c)?e.left+w/2-s.w/2<y:x,k=["top","bottom"].includes(c)?e.left+s.w/2+w/2>=E:k,c=["left","right"].includes(c)&&x&&k?"top":c,c="top"===c&&B?"bottom":c,c="bottom"===c&&O?"top":c,c="left"===c&&x?"right":c,c="right"===c&&k?"left":c,o.className.includes(c)||(o.className=o.className.replace(/\b(top|bottom|start|end)+/,tipClassPositions[c])),s={w:o.offsetWidth,h:o.offsetHeight};i=p.offsetWidth||0,u=p.offsetHeight||0,v=i/2;["left","right"].includes(c)?(H="left"===c?f+m.x-s.w-(n?i:0):f+m.x+w+(n?i:0),$=B?(P=h+m.y,T/2-i):O?(P=h+m.y-s.h+T,s.h-T/2-i):(P=h+m.y-s.h/2+T/2,s.h/2-u/2)):["top","bottom"].includes(c)&&(t&&isMedia(a)?(r=g?t.layerX+(C?a.offsetLeft:0):t.pageX,C=g?t.layerY+(C?a.offsetTop:0):t.pageY,P="top"===c?C-s.h-(n?i:u):C+u,S=t.clientX-s.w/2<y?(H=0,r-v):t.clientX+.51*s.w>=E?(H="auto",L=0,s.w-(E-r)-v):(H=r-s.w/2,s.w/2-v)):(P="top"===c?h+m.y-s.h-(n?u:0):h+m.y+T+(n?u:0),x?(H=0,S=f+w/2-v):k?(H="auto",L=0,D=w/2+(b.right-e.right)-v):(H=f+m.x-s.w/2+w/2,S=s.w/2-v))),o.style.top=`${P}px`,o.style.left="auto"===H?H:`${H}px`,o.style.right=void 0!==L?`${L}px`:"",void 0!==$&&(p.style.top=`${$}px`),void 0!==S?p.style.left=`${S}px`:void 0!==D&&(p.style.right=`${D}px`)}function setFocus(e){e.focus()}let bsnUID=1;function getUID(e,t){return bsnUID+=1,e[t]||bsnUID}const fixedTopClass="fixed-top",fixedBottomClass="fixed-bottom";function getTipContainer(e){var t=e.closest(".modal"),e=e.closest(`.${fixedTopClass},.${fixedBottomClass}`);return t||e||document.body}function normalizeValue(e){return"true"===e||"false"!==e&&(Number.isNaN(+e)?""===e||"null"===e?null:e:+e)}function normalizeOptions(e,t,o,n){const s={},i={},r={...e.dataset};return Object.keys(r).forEach(e=>{var t=e.includes(n)?e.replace(n,"").replace(/[A-Z]/,e=>e.toLowerCase()):e;i[t]=normalizeValue(r[e])}),Object.keys(o).forEach(e=>{o[e]=normalizeValue(o[e])}),Object.keys(t).forEach(e=>{e in o?s[e]=o[e]:e in i?s[e]=i[e]:s[e]=t[e]}),s}class BaseComponent{constructor(e,t,o,n){const s=queryElement(t);s[e]&&s[e].dispose(),this.element=s,o&&Object.keys(o).length&&(this.options=normalizeOptions(s,o,n||{},"bs")),s[e]=this}dispose(e){const t=this;t.element[e]=null,Object.keys(t).forEach(e=>{t[e]=null})}}const popoverString="popover",popoverComponent="Popover",popoverSelector=`[${dataBsToggle}="${popoverString}"],[data-tip="${popoverString}"]`,popoverDefaultOptions={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',title:null,content:null,sanitizeFn:null,customClass:null,dismissible:!1,animation:!0,trigger:"hover",placement:"top",delay:200},appleBrands=/(iPhone|iPod|iPad)/,isIphone=navigator.userAgentData?navigator.userAgentData.brands.some(e=>appleBrands.test(e.brand)):appleBrands.test(navigator.userAgent),popoverHeaderClass=`${popoverString}-header`,popoverBodyClass=`${popoverString}-body`;let popoverCloseButton='<button type="button" class="btn-close"></button>';const showPopoverEvent=bootstrapCustomEvent(`show.bs.${popoverString}`),shownPopoverEvent=bootstrapCustomEvent(`shown.bs.${popoverString}`),hidePopoverEvent=bootstrapCustomEvent(`hide.bs.${popoverString}`),hiddenPopoverEvent=bootstrapCustomEvent(`hidden.bs.${popoverString}`);function popoverForceFocus(){setFocus(this)}function popoverTouchHandler({target:e}){const{popover:t,element:o}=this;t&&t.contains(e)||e===o||o.contains(e)||this.hide()}function createPopover(e){var{id:t,options:o}=e;const{animation:n,customClass:s,sanitizeFn:i,placement:r,dismissible:a}=o;let{title:l,content:p,template:d}=o;o=`bs-${popoverString}-${tipClassPositions[r]}`;l=l?l.trim():null,p=p?p.trim():null,i&&(l=l?i(l):null,p=p?i(p):null,d=d?i(d):null,popoverCloseButton=i(popoverCloseButton)),e.popover=document.createElement("div");const{popover:c}=e;c.setAttribute("id",t),c.setAttribute("role","tooltip");const v=document.createElement("div");v.innerHTML=d.trim(),c.className=v.firstChild.className,c.innerHTML=v.firstChild.innerHTML;const u=queryElement(`.${popoverHeaderClass}`,c),m=queryElement(`.${popoverBodyClass}`,c);e.arrow=queryElement(`.${popoverString}-arrow`,c),a&&(l=l&&l+popoverCloseButton,p=null===l?+popoverCloseButton:p),l&&u&&(u.innerHTML=l.trim()),p&&m&&(m.innerHTML=p.trim()),hasClass(c,popoverString)||addClass(c,popoverString),n&&!hasClass(c,fadeClass)&&addClass(c,fadeClass),s&&!hasClass(c,s)&&addClass(c,s),hasClass(c,o)||addClass(c,o)}function removePopover(e){const{element:t,popover:o,options:n}=e;t.removeAttribute(ariaDescribedBy),n.container.removeChild(o),e.timer=null}function togglePopoverHandlers(e,t){var o=t?addEventListener:removeEventListener;const{element:n,options:s}=e;var{trigger:i,dismissible:r}=s;e.enabled=!!t,"hover"===i?(n[o]("mousedown",e.show),n[o]("mouseenter",e.show),isMedia(n)&&n[o]("mousemove",e.update,passiveHandler),r||n[o]("mouseleave",e.hide)):"click"===i?n[o](i,e.toggle):"focus"===i&&(isIphone&&n[o]("click",popoverForceFocus),n[o]("focusin",e.show))}function dismissHandlerToggle(e,t){var o=t?addEventListener:removeEventListener;const{options:n,element:s,popover:i}=e;var{trigger:r,dismissible:t}=n;if(t){const[a]=i.getElementsByClassName("btn-close");a&&a[o]("click",e.hide)}else"focus"===r&&s[o]("focusout",e.hide),"hover"===r&&document[o]("touchstart",popoverTouchHandler,passiveHandler);isMedia(s)||(window[o]("scroll",e.update,passiveHandler),window[o]("resize",e.update,passiveHandler))}function popoverShowTrigger(e){dismissHandlerToggle(e,1),e.element.dispatchEvent(shownPopoverEvent)}function popoverHideTrigger(e){dismissHandlerToggle(e),removePopover(e),e.element.dispatchEvent(hiddenPopoverEvent)}class Popover extends BaseComponent{constructor(e,t){popoverDefaultOptions.container=getTipContainer(queryElement(e)),super(popoverComponent,e,popoverDefaultOptions,t);var o=this,{element:e}=o;o.timer=null,o.popover=null,o.arrow=null,o.enabled=!1,o.id=`${popoverString}-${getUID(e)}`;var{options:t}=o;o.options.container=isMedia(e)?popoverDefaultOptions.container:queryElement(t.container),popoverDefaultOptions.container=null,t.content&&(createPopover(o),o.update=o.update.bind(o),togglePopoverHandlers(o,1))}update(e){styleTip(this,e)}toggle(e){const t=e?this[popoverComponent]:this;var{popover:o,options:e}=t;isVisibleTip(o,e.container)?t.hide():t.show()}show(e){const t=e?this[popoverComponent]:this,{element:o,popover:n,options:s,id:i}=t,{container:r}=s;clearTimeout(t.timer),t.timer=setTimeout(()=>{isVisibleTip(n,r)||(o.dispatchEvent(showPopoverEvent),showPopoverEvent.defaultPrevented||(r.appendChild(n),o.setAttribute(ariaDescribedBy,i),t.update(e),hasClass(n,showClass)||addClass(n,showClass),s.animation?emulateTransitionEnd(n,()=>popoverShowTrigger(t)):popoverShowTrigger(t)))},17)}hide(e){let t;t=e&&this[popoverComponent]?this[popoverComponent]:e?((e=this.closest(`.${popoverString}`))&&queryElement(`[${ariaDescribedBy}="${e.id}"]`))[popoverComponent]:this;const{element:o,popover:n,options:s}=t;clearTimeout(t.timer),t.timer=setTimeout(()=>{isVisibleTip(n,s.container)&&(o.dispatchEvent(hidePopoverEvent),hidePopoverEvent.defaultPrevented||(removeClass(n,showClass),s.animation?emulateTransitionEnd(n,()=>popoverHideTrigger(t)):popoverHideTrigger(t)))},s.delay+17)}enable(){var{enabled:e}=this;e||(togglePopoverHandlers(this,1),this.enabled=!e)}disable(){const e=this;var{enabled:t,popover:o,options:n}=e;t&&(isVisibleTip(o,n.container)&&n.animation?(e.hide(),setTimeout(()=>togglePopoverHandlers(e),getElementTransitionDuration(o)+n.delay+17)):togglePopoverHandlers(e),e.enabled=!t)}toggleEnabled(){this.enabled?this.disable():this.enable()}dispose(){const e=this,{popover:t,options:o}=e;var{container:n,animation:s}=o;s&&isVisibleTip(t,n)?(o.delay=0,e.hide(),emulateTransitionEnd(t,()=>togglePopoverHandlers(e))):togglePopoverHandlers(e),super.dispose(popoverComponent)}}Popover.init={component:popoverComponent,selector:popoverSelector,constructor:Popover};export default Popover;