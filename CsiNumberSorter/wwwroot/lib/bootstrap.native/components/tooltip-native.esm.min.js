const supportTransition="webkitTransition"in document.head.style||"transition"in document.head.style,transitionDuration="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",transitionProperty="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function getElementTransitionDuration(t){var e=getComputedStyle(t),t=e[transitionProperty];const o=e[transitionDuration];e=o.includes("ms")?1:1e3,e=supportTransition&&t&&"none"!==t?parseFloat(o)*e:0;return Number.isNaN(e)?0:e}const addEventListener="addEventListener",removeEventListener="removeEventListener",supportPassive=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t=!0,t}});document[addEventListener]("DOMContentLoaded",function t(){document[removeEventListener]("DOMContentLoaded",t,e)},e)}catch(t){throw Error("Passive events are not supported")}return t})();var passiveHandler=!!supportPassive&&{passive:!0};const transitionEndEvent="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend";function emulateTransitionEnd(o,i){let n=0;const t=new Event(transitionEndEvent);var e=getElementTransitionDuration(o);e?(o.addEventListener(transitionEndEvent,function t(e){e.target===o&&(i.apply(o,[e]),o.removeEventListener(transitionEndEvent,t),n=1)}),setTimeout(()=>{n||o.dispatchEvent(t)},e+17)):i.apply(o,[t])}function queryElement(t,e){const o=e&&e instanceof Element?e:document;return t instanceof Element?t:o.querySelector(t)}function addClass(t,e){t.classList.add(e)}function hasClass(t,e){return t.classList.contains(e)}function removeClass(t,e){t.classList.remove(e)}const ariaDescribedBy="aria-describedby",dataBsToggle="data-bs-toggle",dataOriginalTitle="data-original-title",fadeClass="fade",showClass="show";function bootstrapCustomEvent(t,e){const o=new CustomEvent(t,{cancelable:!0});return e instanceof Object&&Object.keys(e).forEach(t=>{Object.defineProperty(o,t,{value:e[t]})}),o}var tipClassPositions={top:"top",bottom:"bottom",left:"start",right:"end"};function isMedia(e){return[SVGElement,HTMLImageElement,HTMLVideoElement].some(t=>e instanceof t)}function closestRelative(t){let e=null,o=t;for(;o!==document.body;)if(o=o.parentElement,"relative"===getComputedStyle(o).position){e=o;break}return e}function styleTip(t,e){const o=t.tooltip||t.popover;o.style.top="",o.style.left="",o.style.right="";var i=!!t.popover;let n={w:o.offsetWidth,h:o.offsetHeight};var s=document.documentElement.clientWidth||document.body.clientWidth,l=document.documentElement.clientHeight||document.body.clientHeight;const{element:a,options:r,arrow:p}=t;let{container:d,placement:c}=r;var u=d===document.body,m=getComputedStyle(a).position,h=getComputedStyle(d).position,f=!u&&"static"===h;let v=!u&&"relative"===h;var g=f&&closestRelative(d);d=g||d,v=f&&g?1:v;var u=d===document.body,T=d.getBoundingClientRect(),b=v?T.left:0,E=v?T.right:s,y="absolute"===m,t=a.getBoundingClientRect(),h=u?{x:window.pageXOffset,y:window.pageYOffset}:{x:d.scrollLeft,y:d.scrollTop};const C=a.offsetWidth,w=a.offsetHeight;f=v?a.offsetTop:t.top,g=v?a.offsetLeft:t.left;p.style.top="",p.style.left="",p.style.right="";let H,L,A,O,S,D,$=t.top-n.h<0,x=t.top+n.h+w>=l,k=t.left-n.w<b,P=t.left+n.w+C>=E;$=["left","right"].includes(c)?t.top+w/2-n.h/2<0:$,x=["left","right"].includes(c)?t.top+n.h/2+w/2>=l:x,k=["top","bottom"].includes(c)?t.left+C/2-n.w/2<b:k,P=["top","bottom"].includes(c)?t.left+n.w/2+C/2>=E:P,c=["left","right"].includes(c)&&k&&P?"top":c,c="top"===c&&$?"bottom":c,c="bottom"===c&&x?"top":c,c="left"===c&&k?"right":c,c="right"===c&&P?"left":c,o.className.includes(c)||(o.className=o.className.replace(/\b(top|bottom|start|end)+/,tipClassPositions[c])),n={w:o.offsetWidth,h:o.offsetHeight};s=p.offsetWidth||0,m=p.offsetHeight||0,u=s/2;["left","right"].includes(c)?(L="left"===c?g+h.x-n.w-(i?s:0):g+h.x+C+(i?s:0),O=$?(H=f+h.y,w/2-s):x?(H=f+h.y-n.h+w,n.h-w/2-s):(H=f+h.y-n.h/2+w/2,n.h/2-m/2)):["top","bottom"].includes(c)&&(e&&isMedia(a)?(l=v?e.layerX+(y?a.offsetLeft:0):e.pageX,y=v?e.layerY+(y?a.offsetTop:0):e.pageY,H="top"===c?y-n.h-(i?s:m):y+m,S=e.clientX-n.w/2<b?(L=0,l-u):e.clientX+.51*n.w>=E?(L="auto",A=0,n.w-(E-l)-u):(L=l-n.w/2,n.w/2-u)):(H="top"===c?f+h.y-n.h-(i?m:0):f+h.y+w+(i?m:0),k?(L=0,S=g+C/2-u):P?(L="auto",A=0,D=C/2+(T.right-t.right)-u):(L=g+h.x-n.w/2+C/2,S=n.w/2-u))),o.style.top=`${H}px`,o.style.left="auto"===L?L:`${L}px`,o.style.right=void 0!==A?`${A}px`:"",void 0!==O&&(p.style.top=`${O}px`),void 0!==S?p.style.left=`${S}px`:void 0!==D&&(p.style.right=`${D}px`)}function isVisibleTip(t,e){return e.contains(t)}let bsnUID=1;function getUID(t,e){return bsnUID+=1,t[e]||bsnUID}const fixedTopClass="fixed-top",fixedBottomClass="fixed-bottom";function getTipContainer(t){var e=t.closest(".modal"),t=t.closest(`.${fixedTopClass},.${fixedBottomClass}`);return e||t||document.body}function normalizeValue(t){return"true"===t||"false"!==t&&(Number.isNaN(+t)?""===t||"null"===t?null:t:+t)}function normalizeOptions(t,e,o,i){const n={},s={},l={...t.dataset};return Object.keys(l).forEach(t=>{var e=t.includes(i)?t.replace(i,"").replace(/[A-Z]/,t=>t.toLowerCase()):t;s[e]=normalizeValue(l[t])}),Object.keys(o).forEach(t=>{o[t]=normalizeValue(o[t])}),Object.keys(e).forEach(t=>{t in o?n[t]=o[t]:t in s?n[t]=s[t]:n[t]=e[t]}),n}class BaseComponent{constructor(t,e,o,i){const n=queryElement(e);n[t]&&n[t].dispose(),this.element=n,o&&Object.keys(o).length&&(this.options=normalizeOptions(n,o,i||{},"bs")),n[t]=this}dispose(t){const e=this;e.element[t]=null,Object.keys(e).forEach(t=>{e[t]=null})}}const tooltipString="tooltip",tooltipComponent="Tooltip",tooltipSelector=`[${dataBsToggle}="${tooltipString}"],[data-tip="${tooltipString}"]`,titleAttr="title",tooltipInnerClass=`${tooltipString}-inner`,tooltipDefaultOptions={title:null,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"top",animation:!0,customClass:null,delay:200,sanitizeFn:null},showTooltipEvent=bootstrapCustomEvent(`show.bs.${tooltipString}`),shownTooltipEvent=bootstrapCustomEvent(`shown.bs.${tooltipString}`),hideTooltipEvent=bootstrapCustomEvent(`hide.bs.${tooltipString}`),hiddenTooltipEvent=bootstrapCustomEvent(`hidden.bs.${tooltipString}`);function createTooltip(t){const{options:e,id:o}=t;var i=`bs-${tooltipString}-${tipClassPositions[e.placement]}`;let n=e.title.trim();if(e.sanitizeFn&&(n=e.sanitizeFn(n),e.template=e.sanitizeFn(e.template)),n){t.tooltip=document.createElement("div");const{tooltip:s}=t;s.setAttribute("id",o);const l=document.createElement("div");l.innerHTML=e.template.trim(),s.className=l.firstChild.className,s.innerHTML=l.firstChild.innerHTML,queryElement(`.${tooltipInnerClass}`,s).innerHTML=n,t.arrow=queryElement(`.${tooltipString}-arrow`,s),s.setAttribute("role",tooltipString),hasClass(s,tooltipString)||addClass(s,tooltipString),e.animation&&!hasClass(s,fadeClass)&&addClass(s,fadeClass),e.customClass&&!hasClass(s,e.customClass)&&addClass(s,e.customClass),hasClass(s,i)||addClass(s,i)}}function removeTooltip(t){const{element:e,options:o,tooltip:i}=t;e.removeAttribute(ariaDescribedBy),o.container.removeChild(i),t.timer=null}function disposeTooltipComplete(t){const{element:e}=t;toggleTooltipHandlers(t),e.hasAttribute(dataOriginalTitle)&&toggleTooltipTitle(t)}function toggleTooltipAction(t,e){e=e?addEventListener:removeEventListener;document[e]("touchstart",tooltipTouchHandler,passiveHandler),isMedia(t.element)||(window[e]("scroll",t.update,passiveHandler),window[e]("resize",t.update,passiveHandler))}function tooltipShownAction(t){toggleTooltipAction(t,1),t.element.dispatchEvent(shownTooltipEvent)}function tooltipHiddenAction(t){toggleTooltipAction(t),removeTooltip(t),t.element.dispatchEvent(hiddenTooltipEvent)}function toggleTooltipHandlers(t,e){e=e?addEventListener:removeEventListener;const{element:o}=t;isMedia(o)&&o[e]("mousemove",t.update,passiveHandler),o[e]("mousedown",t.show),o[e]("mouseenter",t.show),o[e]("mouseleave",t.hide)}function toggleTooltipTitle(t,e){var o=[dataOriginalTitle,titleAttr];const{element:i}=t;i.setAttribute(o[e?0:1],e||i.getAttribute(o[0])),i.removeAttribute(o[e?1:0])}function tooltipTouchHandler({target:t}){const{tooltip:e,element:o}=this;e.contains(t)||t===o||o.contains(t)||this.hide()}class Tooltip extends BaseComponent{constructor(t,e){const o=queryElement(t);tooltipDefaultOptions.title=o.getAttribute(titleAttr),tooltipDefaultOptions.container=getTipContainer(o),super(tooltipComponent,o,tooltipDefaultOptions,e);t=this;t.tooltip=null,t.arrow=null,t.timer=null,t.enabled=!1;var{options:e}=t;t.options.container=isMedia(o)?tooltipDefaultOptions.container:queryElement(e.container),tooltipDefaultOptions.container=null,tooltipDefaultOptions[titleAttr]=null,e.title&&(tooltipTouchHandler.bind(t),t.update=t.update.bind(t),o.hasAttribute(titleAttr)&&toggleTooltipTitle(t,e.title),t.id=`${tooltipString}-${getUID(o)}`,createTooltip(t),toggleTooltipHandlers(t,1))}show(t){const e=t?this[tooltipComponent]:this,{options:o,tooltip:i,element:n,id:s}=e;clearTimeout(e.timer),e.timer=setTimeout(()=>{isVisibleTip(i,o.container)||(n.dispatchEvent(showTooltipEvent),showTooltipEvent.defaultPrevented||(o.container.appendChild(i),n.setAttribute(ariaDescribedBy,s),e.update(t),hasClass(i,showClass)||addClass(i,showClass),o.animation?emulateTransitionEnd(i,()=>tooltipShownAction(e)):tooltipShownAction(e)))},20)}hide(t){const e=t?this[tooltipComponent]:this,{options:o,tooltip:i,element:n}=e;clearTimeout(e.timer),e.timer=setTimeout(()=>{isVisibleTip(i,o.container)&&(n.dispatchEvent(hideTooltipEvent),hideTooltipEvent.defaultPrevented||(removeClass(i,showClass),o.animation?emulateTransitionEnd(i,()=>tooltipHiddenAction(e)):tooltipHiddenAction(e)))},o.delay)}update(t){styleTip(this,t)}toggle(){var{tooltip:t,options:e}=this;isVisibleTip(t,e.container)?this.hide():this.show()}enable(){var{enabled:t}=this;t||(toggleTooltipHandlers(this,1),this.enabled=!t)}disable(){const t=this;var{tooltip:e,options:o,enabled:i}=t;i&&(!isVisibleTip(e,o.container)&&o.animation?(t.hide(),setTimeout(()=>toggleTooltipHandlers(t),getElementTransitionDuration(e)+o.delay+17)):toggleTooltipHandlers(t),t.enabled=!i)}toggleEnabled(){this.enabled?this.disable():this.enable()}dispose(){const t=this,{tooltip:e,options:o}=t;o.animation&&isVisibleTip(e,o.container)?(o.delay=0,t.hide(),emulateTransitionEnd(e,()=>disposeTooltipComplete(t))):disposeTooltipComplete(t),super.dispose(tooltipComponent)}}Tooltip.init={component:tooltipComponent,selector:tooltipSelector,constructor:Tooltip};export default Tooltip;