const transitionEndEvent="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend",supportTransition="webkitTransition"in document.head.style||"transition"in document.head.style,transitionDuration="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",transitionProperty="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function getElementTransitionDuration(e){var t=getComputedStyle(e),e=t[transitionProperty];const n=t[transitionDuration];t=n.includes("ms")?1:1e3,t=supportTransition&&e&&"none"!==e?parseFloat(n)*t:0;return Number.isNaN(t)?0:t}function emulateTransitionEnd(n,s){let a=0;const e=new Event(transitionEndEvent);var t=getElementTransitionDuration(n);t?(n.addEventListener(transitionEndEvent,function e(t){t.target===n&&(s.apply(n,[t]),n.removeEventListener(transitionEndEvent,e),a=1)}),setTimeout(()=>{a||n.dispatchEvent(e)},t+17)):s.apply(n,[e])}function queryElement(e,t){const n=t&&t instanceof Element?t:document;return e instanceof Element?e:n.querySelector(e)}function reflow(e){return e.offsetHeight}function addClass(e,t){e.classList.add(t)}function hasClass(e,t){return e.classList.contains(t)}function removeClass(e,t){e.classList.remove(t)}const addEventListener="addEventListener",removeEventListener="removeEventListener",ariaExpanded="aria-expanded",dataBsToggle="data-bs-toggle",collapsingClass="collapsing",showClass="show";function bootstrapCustomEvent(e,t){const n=new CustomEvent(e,{cancelable:!0});return t instanceof Object&&Object.keys(t).forEach(e=>{Object.defineProperty(n,e,{value:t[e]})}),n}const dataBsTarget="data-bs-target",dataBsParent="data-bs-parent",dataBsContainer="data-bs-container";function getTargetElement(e){return queryElement(e.getAttribute(dataBsTarget)||e.getAttribute("href"))||e.closest(e.getAttribute(dataBsParent))||queryElement(e.getAttribute(dataBsContainer))}function normalizeValue(e){return"true"===e||"false"!==e&&(Number.isNaN(+e)?""===e||"null"===e?null:e:+e)}function normalizeOptions(e,t,n,s){const a={},o={},l={...e.dataset};return Object.keys(l).forEach(e=>{var t=e.includes(s)?e.replace(s,"").replace(/[A-Z]/,e=>e.toLowerCase()):e;o[t]=normalizeValue(l[e])}),Object.keys(n).forEach(e=>{n[e]=normalizeValue(n[e])}),Object.keys(t).forEach(e=>{e in n?a[e]=n[e]:e in o?a[e]=o[e]:a[e]=t[e]}),a}class BaseComponent{constructor(e,t,n,s){var a=this;const o=queryElement(t);o[e]&&o[e].dispose(),a.element=o,n&&Object.keys(n).length&&(a.options=normalizeOptions(o,n,s||{},"bs")),o[e]=a}dispose(e){const t=this;t.element[e]=null,Object.keys(t).forEach(e=>{t[e]=null})}}const collapseString="collapse",collapseComponent="Collapse",collapseSelector=`.${collapseString}`,collapseToggleSelector=`[${dataBsToggle}="${collapseString}"]`,showCollapseEvent=bootstrapCustomEvent(`show.bs.${collapseString}`),shownCollapseEvent=bootstrapCustomEvent(`shown.bs.${collapseString}`),hideCollapseEvent=bootstrapCustomEvent(`hide.bs.${collapseString}`),hiddenCollapseEvent=bootstrapCustomEvent(`hidden.bs.${collapseString}`);function expandCollapse(e){const{element:t,parent:n,triggers:s}=e;t.dispatchEvent(showCollapseEvent),showCollapseEvent.defaultPrevented||(e.isAnimating=!0,n&&(n.isAnimating=!0),addClass(t,collapsingClass),removeClass(t,collapseString),t.style.height=`${t.scrollHeight}px`,emulateTransitionEnd(t,()=>{e.isAnimating=!1,n&&(n.isAnimating=!1),s.forEach(e=>e.setAttribute(ariaExpanded,"true")),removeClass(t,collapsingClass),addClass(t,collapseString),addClass(t,showClass),t.style.height="",t.dispatchEvent(shownCollapseEvent)}))}function collapseContent(e){const{element:t,parent:n,triggers:s}=e;t.dispatchEvent(hideCollapseEvent),hideCollapseEvent.defaultPrevented||(e.isAnimating=!0,n&&(n.isAnimating=!0),t.style.height=`${t.scrollHeight}px`,removeClass(t,collapseString),removeClass(t,showClass),addClass(t,collapsingClass),reflow(t),t.style.height="0px",emulateTransitionEnd(t,()=>{e.isAnimating=!1,n&&(n.isAnimating=!1),s.forEach(e=>e.setAttribute(ariaExpanded,"false")),removeClass(t,collapsingClass),addClass(t,collapseString),t.style.height="",t.dispatchEvent(hiddenCollapseEvent)}))}function toggleCollapseHandler(e,t){const n=t?addEventListener:removeEventListener,{triggers:s}=e;s.length&&s.forEach(e=>e[n]("click",collapseClickHandler))}function collapseClickHandler(e){const{target:t}=e;var n=t.closest(collapseToggleSelector),s=getTargetElement(n);const a=s&&s[collapseComponent];a&&a.toggle(t),n&&"A"===n.tagName&&e.preventDefault()}class Collapse extends BaseComponent{constructor(e,t){super(collapseComponent,e,{parent:null},t);t=this;const{element:n}=t;t.triggers=Array.from(document.querySelectorAll(collapseToggleSelector)).filter(e=>getTargetElement(e)===n),t.parent=queryElement(t.options.parent);const{parent:s}=t;t.isAnimating=!1,s&&(s.isAnimating=!1),toggleCollapseHandler(t,1)}toggle(e){hasClass(this.element,showClass)?this.hide(e):this.show(e)}hide(){const{triggers:e,isAnimating:t}=this;t||(collapseContent(this),e.length&&e.forEach(e=>addClass(e,`${collapseString}d`)))}show(){const{element:e,parent:t,triggers:n,isAnimating:s}=this;let a,o;t&&(a=Array.from(t.querySelectorAll(`.${collapseString}.${showClass}`)).find(e=>e[collapseComponent]),o=a&&a[collapseComponent]),t&&(!t||t.isAnimating)||s||(o&&a!==e&&(collapseContent(o),o.triggers.forEach(e=>{addClass(e,`${collapseString}d`)})),expandCollapse(this),n.length&&n.forEach(e=>removeClass(e,`${collapseString}d`)))}dispose(){const{parent:e}=this;toggleCollapseHandler(this),e&&delete e.isAnimating,super.dispose(collapseComponent)}}Collapse.init={component:collapseComponent,selector:collapseSelector,constructor:Collapse};export default Collapse;