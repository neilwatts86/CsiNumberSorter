!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Dropdown=t()}(this,function(){"use strict";function a(e,t){const n=t&&t instanceof Element?t:document;return e instanceof Element?e:n.querySelector(e)}const n="addEventListener",o="removeEventListener";var s=!!(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get(){return e=!0,e}});document[n]("DOMContentLoaded",function e(){document[o]("DOMContentLoaded",e,t)},t)}catch(e){throw Error("Passive events are not supported")}return e})()&&{passive:!0};function w(e,t){e.classList.add(t)}function N(e,t){return e.classList.contains(t)}function $(e,t){e.classList.remove(t)}const l="aria-expanded",d="show",t="data-bs-toggle",j=["dropdown","dropup","dropstart","dropend"],r="dropdown-menu";function e(e,t){const n=new CustomEvent(e,{cancelable:!0});return t instanceof Object&&Object.keys(t).forEach(e=>{Object.defineProperty(n,e,{value:t[e]})}),n}function u(e){const t=e.closest("A");return e&&(e.href&&"#"===e.href.slice(-1)||t&&t.href&&"#"===t.href.slice(-1))}function f(e){e.focus()}function i(e){return"true"===e||"false"!==e&&(Number.isNaN(+e)?""===e||"null"===e?null:e:+e)}class c{constructor(e,t,n,o){const s=a(t);s[e]&&s[e].dispose(),this.element=s,n&&Object.keys(n).length&&(this.options=function(e,t,n,o){const s={},r={},c={...e.dataset};return Object.keys(c).forEach(e=>{var t=e.includes(o)?e.replace(o,"").replace(/[A-Z]/,e=>e.toLowerCase()):e;r[t]=i(c[e])}),Object.keys(n).forEach(e=>{n[e]=i(n[e])}),Object.keys(t).forEach(e=>{e in n?s[e]=n[e]:e in r?s[e]=r[e]:s[e]=t[e]}),s}(s,n,o||{},"bs")),s[e]=this}dispose(e){const t=this;t.element[e]=null,Object.keys(t).forEach(e=>{t[e]=null})}}const[k]=j,p="Dropdown",h=`[${t}="${k}"]`,O=j[1],A=j[2],T=j[3],L=`${r}-end`,C=["d-block","invisible"],x=[k,O],D=[A,T],m={offset:5,display:"dynamic"},g=e(`show.bs.${k}`),v=e(`shown.bs.${k}`),b=e(`hide.bs.${k}`),y=e(`hidden.bs.${k}`);function E(e,t){const{element:n,menu:o,originalClass:s,menuEnd:r,options:c}=e;var{offset:i}=c;const a=n.parentElement;if(["margin","top","bottom","left","right"].forEach(e=>{o.style[e]=""}),$(a,"position-static"),!t){var l=N(o,L);return a.className=s.join(" "),void(l&&!r?$(o,L):!l&&r&&w(o,L))}let d=j.find(e=>s.includes(e))||k,u={dropdown:[i,0,0],dropup:[0,0,i],dropstart:[-1,i,0],dropend:[-1,0,0,i]};const f={dropdown:{top:"100%"},dropup:{top:"auto",bottom:"100%"},dropstart:{left:"auto",right:"100%"},dropend:{left:"100%",right:"auto"},menuEnd:{right:0,left:"auto"}};C.forEach(e=>w(o,e));var p=new RegExp(`\\b(${k}|${O}|${A}|${T})+`);const h=n.offsetWidth,m=n.offsetHeight,g=o.offsetWidth,v=o.offsetHeight;var b=document.documentElement,y=document.body,E=b.clientWidth||y.clientWidth,e=b.clientHeight||y.clientHeight,t=n.getBoundingClientRect(),l=t.left+h-g<0,i=t.left-g<0,b=t.left+g>=E,y=t.left+g+h>=E,E=t.top+v>=e,e=t.top+v+m>=e,t=t.top-v<0;D.includes(d)&&i&&y&&(d=k),D.includes(d)&&E&&(d=O),d===A&&i&&!E&&(d=T),d===T&&y&&!E&&(d=A),d===O&&t&&!e&&(d=k),d===k&&e&&!t&&(d=O),u=u[d],o.style.margin=`${u.map(e=>e&&`${e}px`).join(" ")}`,Object.keys(f[d]).forEach(e=>{o.style[e]=f[d][e]}),N(a,d)||(a.className=a.className.replace(p,d)),x.includes(d)&&(!r&&b?w(o,L):r&&l&&$(o,L),N(o,L)&&Object.keys(f.menuEnd).forEach(e=>{o.style[e]=f.menuEnd[e]})),C.forEach(e=>$(o,e))}function P(e){var t=e.open?n:o;document[t]("click",W),document[t]("focus",W),document[t]("keydown",M),document[t]("keyup",R),"dynamic"===e.options.display&&(window[t]("scroll",q,s),window[t]("resize",q,s))}function I(e,t){t=t?n:o;e.element[t]("click",B)}function H(){var e=j.concat("btn-group").map(e=>document.getElementsByClassName(`${e} ${d}`)).find(e=>e.length);return e&&e.length?Array.from(e[0].children).find(e=>e.hasAttribute(t)):null}function W(e){const{target:t,type:n}=e;if(t.closest){var o=H();const c=o&&o.parentNode,i=o&&o[p],a=i&&i.menu;var s=null!==t.closest(h),r=c&&c.contains(t)&&("form"===t.tagName||null!==t.closest("form"));"click"===n&&u(t)&&e.preventDefault(),"focus"===n&&(t===o||t===a||a.contains(t))||r||s||i&&i.hide(o)}}function B(e){const t=this[p];t.toggle(this),u(e.target)&&e.preventDefault()}function M(e){38!==e.which&&40!==e.which||e.preventDefault()}function R({which:e}){var t=H();const n=t[p],{menu:o,menuItems:s,open:r}=n;var c=document.activeElement,i=c===t,a=o.contains(c),t=c.parentNode===o||c.parentNode.parentNode===o;let l=s.indexOf(c);t&&(i?l=0:38===e?l=1<l?l-1:0:40===e&&(l=l<s.length-1?l+1:l),s[l]&&f(s[l])),(s.length&&t||!s.length&&(a||i)||!a)&&r&&27===e&&n.toggle()}function q(){var e=H(),e=e&&e[p];e&&e.open&&E(e,1)}class z extends c{constructor(e,t){super(p,e,m,t);const n=this;var{element:e}=n,t=e.parentElement;n.menu=a(`.${r}`,t);var{menu:e}=n;n.originalClass=Array.from(t.classList),n.menuEnd=N(e,L),n.menuItems=[],Array.from(e.children).forEach(e=>{e.children.length&&"A"===e.children[0].tagName&&n.menuItems.push(e.children[0]),"A"===e.tagName&&n.menuItems.push(e)}),n.open=!1,I(n,1)}toggle(e){var{open:t}=this;t?this.hide(e):this.show(e)}show(e){const t=this;var n=a(j.concat("btn-group").map(e=>`.${e}.${d}`).join(","));const o=n&&a(h,n);o&&o[p].hide();const{element:s,menu:r,open:c}=t,i=s.parentNode;g.relatedTarget=e||null,i.dispatchEvent(g),g.defaultPrevented||(E(t,1),w(r,d),w(i,d),s.setAttribute(l,!0),t.open=!c,setTimeout(()=>{f(r.getElementsByTagName("INPUT")[0]||s),P(t),v.relatedTarget=e||null,i.dispatchEvent(v)},1))}hide(e){const t=this,{element:n,menu:o,open:s}=t,r=n.parentNode;b.relatedTarget=e||null,r.dispatchEvent(b),b.defaultPrevented||($(o,d),$(r,d),E(t),n.setAttribute(l,!1),t.open=!s,f(n),setTimeout(()=>P(t),1),y.relatedTarget=e||null,r.dispatchEvent(y))}dispose(){var{element:e}=this;N(e.parentNode,d)&&this.open&&this.hide(),I(this),super.dispose(p)}}return z.init={component:p,selector:h,constructor:z},z});