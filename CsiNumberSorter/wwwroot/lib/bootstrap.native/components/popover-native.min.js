!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Popover=e()}(this,function(){"use strict";const a="addEventListener",c="removeEventListener";var d=!!(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t=!0,t}});document[a]("DOMContentLoaded",function t(){document[c]("DOMContentLoaded",t,e)},e)}catch(t){throw Error("Passive events are not supported")}return t})()&&{passive:!0};const s="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend",n="webkitTransition"in document.head.style||"transition"in document.head.style,i="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",r="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function l(t){var e=getComputedStyle(t),t=e[r];const o=e[i];e=o.includes("ms")?1:1e3,e=n&&t&&"none"!==t?parseFloat(o)*e:0;return Number.isNaN(e)?0:e}function p(o,n){let i=0;const t=new Event(s);var e=l(o);e?(o.addEventListener(s,function t(e){e.target===o&&(n.apply(o,[e]),o.removeEventListener(s,t),i=1)}),setTimeout(()=>{i||o.dispatchEvent(t)},e+17)):n.apply(o,[t])}function f(t,e){const o=e&&e instanceof Element?e:document;return t instanceof Element?t:o.querySelector(t)}function v(t,e){t.classList.add(e)}function b(t,e){return t.classList.contains(e)}const u="aria-describedby",m="show",y="fade";function t(t,e){const o=new CustomEvent(t,{cancelable:!0});return e instanceof Object&&Object.keys(e).forEach(t=>{Object.defineProperty(o,t,{value:e[t]})}),o}var A={top:"top",bottom:"bottom",left:"start",right:"end"};function h(t,e){return e.contains(t)}function D(e){return[SVGElement,HTMLImageElement,HTMLVideoElement].some(t=>e instanceof t)}function e(t,e){const o=t.tooltip||t.popover;o.style.top="",o.style.left="",o.style.right="";var n=!!t.popover;let i={w:o.offsetWidth,h:o.offsetHeight};var s=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight;const{element:l,options:a,arrow:c}=t;let{container:d,placement:p}=a;var u=d===document.body,m=getComputedStyle(l).position,h=getComputedStyle(d).position,f=!u&&"static"===h;let v=!u&&"relative"===h;var b=f&&function(t){let e=null,o=t;for(;o!==document.body;)if(o=o.parentElement,"relative"===getComputedStyle(o).position){e=o;break}return e}(d);d=b||d,v=f&&b?1:v;var u=d===document.body,y=d.getBoundingClientRect(),g=v?y.left:0,w=v?y.right:s,E="absolute"===m,t=l.getBoundingClientRect(),h=u?{x:window.pageXOffset,y:window.pageYOffset}:{x:d.scrollLeft,y:d.scrollTop};const T=l.offsetWidth,L=l.offsetHeight;f=v?l.offsetTop:t.top,b=v?l.offsetLeft:t.left;c.style.top="",c.style.left="",c.style.right="";let $,k,C,x,H,O,N=t.top-i.h<0,P=t.top+i.h+L>=r,j=t.left-i.w<g,M=t.left+i.w+T>=w;N=["left","right"].includes(p)?t.top+L/2-i.h/2<0:N,P=["left","right"].includes(p)?t.top+i.h/2+L/2>=r:P,j=["top","bottom"].includes(p)?t.left+T/2-i.w/2<g:j,M=["top","bottom"].includes(p)?t.left+i.w/2+T/2>=w:M,p=["left","right"].includes(p)&&j&&M?"top":p,p="top"===p&&N?"bottom":p,p="bottom"===p&&P?"top":p,p="left"===p&&j?"right":p,p="right"===p&&M?"left":p,o.className.includes(p)||(o.className=o.className.replace(/\b(top|bottom|start|end)+/,A[p])),i={w:o.offsetWidth,h:o.offsetHeight};s=c.offsetWidth||0,m=c.offsetHeight||0,u=s/2;["left","right"].includes(p)?(k="left"===p?b+h.x-i.w-(n?s:0):b+h.x+T+(n?s:0),x=N?($=f+h.y,L/2-s):P?($=f+h.y-i.h+L,i.h-L/2-s):($=f+h.y-i.h/2+L/2,i.h/2-m/2)):["top","bottom"].includes(p)&&(e&&D(l)?(r=v?e.layerX+(E?l.offsetLeft:0):e.pageX,E=v?e.layerY+(E?l.offsetTop:0):e.pageY,$="top"===p?E-i.h-(n?s:m):E+m,H=e.clientX-i.w/2<g?(k=0,r-u):e.clientX+.51*i.w>=w?(k="auto",C=0,i.w-(w-r)-u):(k=r-i.w/2,i.w/2-u)):($="top"===p?f+h.y-i.h-(n?m:0):f+h.y+L+(n?m:0),j?(k=0,H=b+T/2-u):M?(k="auto",C=0,O=T/2+(y.right-t.right)-u):(k=b+h.x-i.w/2+T/2,H=i.w/2-u))),o.style.top=`${$}px`,o.style.left="auto"===k?k:`${k}px`,o.style.right=void 0!==C?`${C}px`:"",void 0!==x&&(c.style.top=`${x}px`),void 0!==H?c.style.left=`${H}px`:void 0!==O&&(c.style.right=`${O}px`)}let g=1;function w(t){return"true"===t||"false"!==t&&(Number.isNaN(+t)?""===t||"null"===t?null:t:+t)}class o{constructor(t,e,o,n){const i=f(e);i[t]&&i[t].dispose(),this.element=i,o&&Object.keys(o).length&&(this.options=function(t,e,o,n){const i={},s={},r={...t.dataset};return Object.keys(r).forEach(t=>{var e=t.includes(n)?t.replace(n,"").replace(/[A-Z]/,t=>t.toLowerCase()):t;s[e]=w(r[t])}),Object.keys(o).forEach(t=>{o[t]=w(o[t])}),Object.keys(e).forEach(t=>{t in o?i[t]=o[t]:t in s?i[t]=s[t]:i[t]=e[t]}),i}(i,o,n||{},"bs")),i[t]=this}dispose(t){const e=this;e.element[t]=null,Object.keys(e).forEach(t=>{e[t]=null})}}const E="popover",T="Popover";E,E;const L={template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',title:null,content:null,sanitizeFn:null,customClass:null,dismissible:!1,animation:!0,trigger:"hover",placement:"top",delay:200},$=/(iPhone|iPod|iPad)/,k=navigator.userAgentData?navigator.userAgentData.brands.some(t=>$.test(t.brand)):$.test(navigator.userAgent);E,E;let C='<button type="button" class="btn-close"></button>';const x=t(`show.bs.${E}`),H=t(`shown.bs.${E}`),O=t(`hide.bs.${E}`),N=t(`hidden.bs.${E}`);function P(){this.focus()}function j({target:t}){const{popover:e,element:o}=this;e&&e.contains(t)||t===o||o.contains(t)||this.hide()}function M(t,e){var o=e?a:c;const{element:n,options:i}=t;var{trigger:s,dismissible:r}=i;t.enabled=!!e,"hover"===s?(n[o]("mousedown",t.show),n[o]("mouseenter",t.show),D(n)&&n[o]("mousemove",t.update,d),r||n[o]("mouseleave",t.hide)):"click"===s?n[o](s,t.toggle):"focus"===s&&(k&&n[o]("click",P),n[o]("focusin",t.show))}function S(t,e){var o=e?a:c;const{options:n,element:i,popover:s}=t;var{trigger:r,dismissible:e}=n;if(e){const[l]=s.getElementsByClassName("btn-close");l&&l[o]("click",t.hide)}else"focus"===r&&i[o]("focusout",t.hide),"hover"===r&&document[o]("touchstart",j,d);D(i)||(window[o]("scroll",t.update,d),window[o]("resize",t.update,d))}function W(t){S(t,1),t.element.dispatchEvent(H)}function X(t){S(t),function(t){const{element:e,popover:o,options:n}=t;e.removeAttribute(u),n.container.removeChild(o),t.timer=null}(t),t.element.dispatchEvent(N)}class z extends o{constructor(t,e){var o;L.container=(n=f(t),o=n.closest(".modal"),n=n.closest(".fixed-top,.fixed-bottom"),o||n||document.body),super(T,t,L,e);var n=this,{element:t}=n;n.timer=null,n.popover=null,n.arrow=null,n.enabled=!1,n.id=`${E}-${e=t,g+=1,e[i]||g}`;var{options:i}=n;n.options.container=D(t)?L.container:f(i.container),L.container=null,i.content&&(function(t){var{id:e,options:o}=t;const{animation:n,customClass:i,sanitizeFn:s,placement:r,dismissible:l}=o;let{title:a,content:c,template:d}=o;o=`bs-${E}-${A[r]}`,a=a?a.trim():null,c=c?c.trim():null,s&&(a=a?s(a):null,c=c?s(c):null,d=d?s(d):null,C=s(C)),t.popover=document.createElement("div");const{popover:p}=t;p.setAttribute("id",e),p.setAttribute("role","tooltip");const u=document.createElement("div");u.innerHTML=d.trim(),p.className=u.firstChild.className,p.innerHTML=u.firstChild.innerHTML;const m=f(".popover-header",p),h=f(".popover-body",p);t.arrow=f(`.${E}-arrow`,p),l&&(a=a&&a+C,c=null===a?+C:c),a&&m&&(m.innerHTML=a.trim()),c&&h&&(h.innerHTML=c.trim()),b(p,E)||v(p,E),n&&!b(p,y)&&v(p,y),i&&!b(p,i)&&v(p,i),b(p,o)||v(p,o)}(n),n.update=n.update.bind(n),M(n,1))}update(t){e(this,t)}toggle(t){const e=t?this[T]:this;var{popover:o,options:t}=e;h(o,t.container)?e.hide():e.show()}show(t){const e=t?this[T]:this,{element:o,popover:n,options:i,id:s}=e,{container:r}=i;clearTimeout(e.timer),e.timer=setTimeout(()=>{h(n,r)||(o.dispatchEvent(x),x.defaultPrevented||(r.appendChild(n),o.setAttribute(u,s),e.update(t),b(n,m)||v(n,m),i.animation?p(n,()=>W(e)):W(e)))},17)}hide(t){let o;o=t&&this[T]?this[T]:t?((t=this.closest(`.${E}`))&&f(`[${u}="${t.id}"]`))[T]:this;const{element:n,popover:i,options:s}=o;clearTimeout(o.timer),o.timer=setTimeout(()=>{var t,e;h(i,s.container)&&(n.dispatchEvent(O),O.defaultPrevented||(t=i,e=m,t.classList.remove(e),s.animation?p(i,()=>X(o)):X(o)))},s.delay+17)}enable(){var{enabled:t}=this;t||(M(this,1),this.enabled=!t)}disable(){const t=this;var{enabled:e,popover:o,options:n}=t;e&&(h(o,n.container)&&n.animation?(t.hide(),setTimeout(()=>M(t),l(o)+n.delay+17)):M(t),t.enabled=!e)}toggleEnabled(){this.enabled?this.disable():this.enable()}dispose(){const t=this,{popover:e,options:o}=t;var{container:n,animation:i}=o;i&&h(e,n)?(o.delay=0,t.hide(),p(e,()=>M(t))):M(t),super.dispose(T)}}return z.init={component:T,selector:'[data-bs-toggle="popover"],[data-tip="popover"]',constructor:z},z});